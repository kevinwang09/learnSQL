<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Kevin Wang Ph.D." />


<title>Guiding principles</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Learning SQL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://kevinwang09.github.io/learnSQL/guides.html">Guiding principles</a>
    </li>
    <li>
      <a href="https://kevinwang09.github.io/learnSQL/basic.html">Basic operations</a>
    </li>
    <li>
      <a href="https://kevinwang09.github.io/learnSQL/CRUD.html">Table - Create, review, update, delete</a>
    </li>
    <li>
      <a href="https://kevinwang09.github.io/learnSQL/join.html">Join operations</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Intermediates
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://kevinwang09.github.io/learnSQL/subqueries.html">Subqueries - case when, with</a>
    </li>
    <li>
      <a href="https://kevinwang09.github.io/learnSQL/window.html">Window</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kevinwang09/learnSQL">
    <span class="fa fa-code"></span>
     
    Source code
  </a>
</li>
<li>
  <a href="https://kevinwangstats.com">
    <span class="fa fa-user-tie"></span>
     
    About me
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Guiding principles</h1>
<h4 class="author">Kevin Wang Ph.D.</h4>

</div>

<div id="TOC">
<ul>
<li><a href="#some-basic-principles"
id="toc-some-basic-principles"><span class="toc-section-number">1</span>
Some basic principles</a>
<ul>
<li><a href="#why-use-relational-database"
id="toc-why-use-relational-database"><span
class="toc-section-number">1.1</span> Why use relational
database?</a></li>
<li><a href="#connection-to-a-database"
id="toc-connection-to-a-database"><span
class="toc-section-number">1.2</span> Connection to a database</a></li>
<li><a href="#ordering-of-the-verbs"
id="toc-ordering-of-the-verbs"><span
class="toc-section-number">1.3</span> Ordering of the verbs</a></li>
</ul></li>
</ul>
</div>

<div id="some-basic-principles" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Some basic
principles</h1>
<div id="why-use-relational-database" class="section level2"
number="1.1">
<h2><span class="header-section-number">1.1</span> Why use relational
database?</h2>
<p>A relational database is a set of tables (datasets with rows and
columns) that contain information relating to other tables in the
database.</p>
<p>Relational databases have big benefits over simple data storage like
CSV files or data frames, especially when it comes to keeping data neat
and easy to handle. While CSV files can easily get messy with
<strong>repeated information</strong>, relational databases organize
data in tables that connect to each other, which helps avoid having the
same data in more than one place. This setup makes it easier to change
how data is organized without messing up the data itself or the programs
that use it.</p>
<p>Relational databases also let you do complex searches and changes
with SQL, something thatâ€™s hard with just CSV files or data frames. They
provide a central place for data, making it easier for many people to
use it at the same time while keeping the data safe and sound, showing
why theyâ€™re a go-to choice for managing detailed and interconnected data
in a clean and efficient way.</p>
</div>
<div id="connection-to-a-database" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Connection to a
database</h2>
<p>â€œConnection to a database will depend on what sort of database we are
working with and what programming language we are using. In this
section, we will explore how to connect to both SQLite and MySQL
databases using Python.</p>
<p>For a local SQLite database, Pythonâ€™s built-in <code>sqlite3</code>
library provides a straightforward way to connect and interact with
SQLite databases. SQLite is a file-based database, making it an
excellent choice for lightweight applications, development, testing, or
for situations where a simple yet reliable database is required without
the overhead of a full database server.</p>
<pre class="python"><code>import sqlite3

# Connect to the SQLite database (the file)
conn = sqlite3.connect(&#39;movies.db&#39;)

# Create a cursor object
cursor = conn.cursor()</code></pre>
<p>For a local or remote MySQL server, the process involves using a
third-party library like <code>pymysql</code>. MySQL is a more robust
solution suitable for applications requiring concurrent access, advanced
querying capabilities, and higher levels of data integrity and security.
To connect to a MySQL database, you first need to ensure that the MySQL
server is accessible and that you have the necessary credentials
(username, password, database name, and server address).</p>
<pre class="python"><code>import pymysql

# Connection parameters
host = &#39;localhost&#39;  # Or the IP of your MySQL server
user = &#39;your_username&#39;
password = &#39;your_password&#39;
db = &#39;your_database_name&#39;

# Establish a connection to the MySQL database
conn = pymysql.connect(host=host, user=user, password=password, db=db)

# Create a cursor object
cursor = conn.cursor()</code></pre>
<p>After the connection is made, a query can be made using standardized
syntax.</p>
<pre class="python"><code># SQL query to select names and directors from the movies table
query = &quot;SELECT name, director FROM movies&quot;

# Execute the query
cursor.execute(query)

# Fetch all the results
movies = cursor.fetchall()

# Print each movie&#39;s name and director
for movie in movies:
    print(f&quot;Name: {movie[0]}, Director: {movie[1]}&quot;)

# Don&#39;t forget to commit (if you&#39;ve made changes) and close the connection
conn.commit()
conn.close()</code></pre>
</div>
<div id="ordering-of-the-verbs" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Ordering of the
verbs</h2>
<p>When composing SQL queries, the sequence in which you arrange various
clauses is crucial for the database to correctly execute commands and
retrieve data. SQL syntax necessitates a specific order of operations,
and following this hierarchy ensures your queries are both valid and
efficient. Hereâ€™s an elaboration of the order of operations in an SQL
query, emphasizing the hierarchy of SQL verbs and including examples for
each:</p>
<ol style="list-style-type: decimal">
<li><p>SELECT: Specifies the columns to return. You can also perform
calculations or transformations on the data here (e.g., SELECT name,
SUM(sales) for aggregate sales by name).</p></li>
<li><p>FROM: Indicates the table(s) from which data will be retrieved
(e.g., FROM sales_table). This clause sets the context for the source of
your data.</p></li>
<li><p>JOIN: Used for combining rows from two or more tables based on a
related column between them (e.g., JOIN product_table ON
sales_table.product_id = product_table.id). The JOIN clause, which
follows FROM, details the type of join (INNER, LEFT, RIGHT, FULL OUTER)
and the conditions for joining.</p></li>
<li><p>WHERE: Filters rows based on specific conditions (e.g., WHERE
sales_date &gt; â€˜2023-01-01â€™). Only rows that meet these criteria will
be included in the output. This clause is applied before the data is
grouped.</p></li>
<li><p>GROUP BY: Groups rows that have the same values in specified
columns into summary rows (e.g., GROUP BY product_category). Essential
for aggregate functions (SUM, AVG, MAX, etc.), it organizes the data
into subsets for aggregation.</p></li>
<li><p>HAVING: Filters groups of data after they have been aggregated
with GROUP BY (e.g., HAVING SUM(sales) &gt; 1000). WHERE filters
individual rows, HAVING filters aggregated groups.</p></li>
<li><p>ORDER BY: Determines the order of the final set of rows returned,
based on one or more columns (e.g., ORDER BY total_sales DESC).
Specifies ascending (ASC) or descending (DESC) order.</p></li>
<li><p>LIMIT (or FETCH): Limits the number of rows returned by the
query, useful for handling large datasets or implementing pagination
(e.g., LIMIT 10 for the top 10 rows).</p></li>
<li><p>OFFSET: Skips a specified number of rows before starting to
return rows from the query result (e.g., OFFSET 5 to skip the first 5
rows). Often used with LIMIT for paginated data retrieval.</p></li>
</ol>
<p>An illustrative SQL query incorporating this order:</p>
<pre class="sql"><code>SELECT product_name, SUM(sales)
FROM sales_table
JOIN product_table ON sales_table.product_id = product_table.id
WHERE sales_date &gt; &#39;2023-01-01&#39;
GROUP BY product_name
HAVING SUM(sales) &gt; 1000
ORDER BY SUM(sales) DESC
LIMIT 10;</code></pre>
<p>This query is designed to identify the top 10 selling products based
on total sales volume from January 1, 2023, onwards, filtering out any
products that have not achieved more than 1000 in sales. The use of a
JOIN operation ensures that the output includes the names of the
products rather than just their IDs.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
